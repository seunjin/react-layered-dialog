import type { DialogInstance } from 'react-layered-dialog';
import { AnimatePresence } from 'motion/react';

type DialogRendererProps<T extends { type: string }> = {
  dialogs: readonly DialogInstance<T>[];
};

export const DialogRenderer = <T extends { type: string }>({
  dialogs,
}: DialogRendererProps<T>) => (
  <AnimatePresence>
    {dialogs.map(({ Component, state }) => (
      <Component key={state.id} {...state} />
    ))}
  </AnimatePresence>
);
